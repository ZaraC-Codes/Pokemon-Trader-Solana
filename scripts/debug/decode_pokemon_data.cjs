/**
 * Decode raw Pokemon data from getAllActivePokemons
 */

// Raw data from the previous call
const rawData = '0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000222000000000000000000000000000000000000000000000000000000000000036c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069704adb0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004a000000000000000000000000000000000000000000000000000000000000016d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069704adc000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000001a40000000000000000000000000000000000000000000000000000000000000244000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069704add000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002440000000000000000000000000000000000000000000000000000000000000244000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c8f000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000001f40000000000000000000000000000000000000000000000000000000000000172000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c90000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000001f40000000000000000000000000000000000000000000000000000000000000276000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c910000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000012c00000000000000000000000000000000000000000000000000000000000001f4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c91000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000002bc00000000000000000000000000000000000000000000000000000000000001f4000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c92000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000001680000000000000000000000000000000000000000000000000000000000000168000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c930000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000016e000000000000000000000000000000000000000000000000000000000000028d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c94000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000001680000000000000000000000000000000000000000000000000000000000000280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c95000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c96000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000001f4000000000000000000000000000000000000000000000000000000000000010400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000006975fbaa000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000002e4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c98000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000c800000000000000000000000000000000000000000000000000000000000001f4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c99000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000001f4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c99000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000000000000000000000000000000000000000001040000000000000000000000000000000000000000000000000000000000000104000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c9a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000002e40000000000000000000000000000000000000000000000000000000000000104000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c9b000000000000000000000000000000000000000000000000000000000000000f000000000000000000000000000000000000000000000000000000000000010400000000000000000000000000000000000000000000000000000000000002e4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c9c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002e400000000000000000000000000000000000000000000000000000000000002e4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000069710c9d';

// Each Pokemon struct is 6 uint256 values = 6 * 32 bytes = 192 bytes
// But there's an offset at the start for the dynamic array
const STRUCT_SIZE = 6 * 64; // 6 fields * 64 hex chars per uint256

function decodePokemons() {
  // Remove '0x' prefix
  const data = rawData.slice(2);

  // The first 64 bytes (128 hex chars) could be the array offset
  // Let's manually parse assuming it's packed Pokemon structs after first 64 bytes
  // Actually looking at the data, it seems to start directly with Pokemon data

  console.log('\n=== DECODED POKEMON DATA ===\n');

  // Each Pokemon has 6 fields:
  // - id (uint256)
  // - positionX (uint256)
  // - positionY (uint256)
  // - throwAttempts (uint8, but stored as uint256)
  // - isActive (bool, stored as uint256)
  // - spawnTime (uint256)

  for (let i = 0; i < 20; i++) {
    const start = i * STRUCT_SIZE;
    if (start + STRUCT_SIZE > data.length) break;

    const id = BigInt('0x' + data.slice(start, start + 64));
    const posX = BigInt('0x' + data.slice(start + 64, start + 128));
    const posY = BigInt('0x' + data.slice(start + 128, start + 192));
    const attempts = BigInt('0x' + data.slice(start + 192, start + 256));
    const isActive = BigInt('0x' + data.slice(start + 256, start + 320));
    const spawnTime = BigInt('0x' + data.slice(start + 320, start + 384));

    console.log(`Slot ${i}:`);
    console.log(`  ID:        ${id}`);
    console.log(`  Position:  (${posX}, ${posY})`);
    console.log(`  Attempts:  ${attempts} / 3`);
    console.log(`  Active:    ${isActive === 1n ? 'YES' : 'NO'}`);
    console.log(`  SpawnTime: ${spawnTime} (${new Date(Number(spawnTime) * 1000).toISOString()})`);
    console.log('');
  }
}

decodePokemons();
